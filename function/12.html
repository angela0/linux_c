<html>

<head>
  <title>Untitled Document</title>
  <meta charset="utf-8">
  <script type="text/javascript" src="../scripts/shCore.js"></script>
  <script type="text/javascript" src="../scripts/shBrushCpp.js"></script>
  <link type="text/css" rel="stylesheet" href="../styles/shCoreDefault.css" />
  <link type="text/css" rel="stylesheet" href="../styles/all.css" />
  <script type="text/javascript">
    SyntaxHighlighter.all();
  </script>
</head>

<body>
  <table class="table">
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=access></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      access(判断是否具有存取文件的权限) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#stat">stat</a>,
        <a href="09.html#open">open</a>,
        <a href="12.html#chmod">chmod</a>,
        <a href="12.html#chown">chown</a>,
        <a href="12.html#setuid">setuid</a>,
        <a href="12.html#setgid">setgid</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int access(const char *pathname, int mode);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> access()会检查是否可以读/写某一已存在的文件。参数mode有几种情况组合，R_OK，W_OK，X_OK和F_OK。R_OK，W_OK与X_OK用来检查文件是否具有读取、写入和执行的权限。F_OK则是用来判断该文件是否存在。由于access()只作权限的核查，并不理会文件形态或文件内容，因此，如果一目录表示为"可写入"，表示可以在该目录中建立新文件等操作，而非意味此目录可以被当做文件处理。例如，你会发现DOS的文件都具有"可执行"权限，但用execve()执行时则会失败。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 若所有欲查核的权限都通过了检查则返回0值，表示成功，只要有一权限被禁止则返回-1。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> EACCESS 参数pathname 所指定的文件不符合所要求测试的权限。
        <pre>
      EROFS 欲测试写入权限的文件存在于只读文件系统内。
      EFAULT 参数pathname指针超出可存取内存空间。
      EINVAL 参数mode 不正确。
      ENAMETOOLONG 参数pathname太长。
      ENOTDIR 参数pathname为一目录。
      ENOMEM 核心内存不足
      ELOOP 参数pathname有过多符号连接问题。
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 附加说明 </font> </div>
      </td>
      <td> <font class="font"> 使用access()作用户认证方面的判断要特别小心，例如在access()后再做open()的空文件可能会造成系统安全上的问题。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> /* 判断是否允许读取/etc/passwd */
        <pre class="brush: cpp;">
          #include "unistd.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              if (access("/etc/passwd", R_OK) == 0)
                  printf("/etc/passwd can be read\n");
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          /etc/passwd can be read
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=alphasort></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      alphasort(依字母顺序排序目录结构) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#scandir">scandir</a>,
        <a href="08.html#qsort">qsort</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> 
        int alphasort(const struct dirent **a, const struct dirent **b);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> alphasort()为scandir()最后调用qsort()函数时传给qsort()作为判断的函数，详细说明请参考scandir()及qsort()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 参考qsort()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> /* 读取/目录下所有的目录结构，并依字母顺序排列*/
        <pre class="brush: cpp;">
          #include "stdio.h"
          #include "dirent.h"

          int main(int argc, char const *argv[])
          {
              struct dirent **namelist;
              int i, total;
              total = scandir("/", &namelist , 0, alphasort);
              if (total  < 0)
                  perror("scandir");
              else {
                  for (i = 0; i < total; i++)
                      printf("%s\n", namelist[i]->d_name);
                  printf("total = %d\n", total);
              }
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> ..
        <pre class="brush: cpp;">
          .
          ..
          bin
          boot
          cdrom
          dev
          etc
          home
          initrd.img
          lib
          lib64
          lost+found
          media
          mnt
          opt
          proc
          root
          run
          sbin
          srv
          sys
          tmp
          usr
          var
          vmlinuz
          total = 25
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div">
          
          <font class="font"><a name=chdir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      chdir(改变当前的工作(目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#getcwd">getcwd</a>,
        <a href="12.html#chroot">chroot</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int chdir(const char *path);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> chdir()用来将当前的工作目录改变成以参数path所指的目录。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，errno为错误代码。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          #include "unistd.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              chdir("/tmp");
              printf("current working directory: %s\n", getcwd(NULL, NULL));
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          current working directory: /tmp
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=chmod></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      chmod(改变文件的权限) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#fchmod">fchmod</a>,
        <a href="12.html#stat">stat</a>,
        <a href="09.html#open">open</a>,
        <a href="12.html#chown">chown</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "sys/stat.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int chmod(const char *path, mode_t mode);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> chmod()会依参数mode 权限来更改参数path 指定文件的权限。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 参数 </font> </div>
      </td>
      <td> <font class="font"> mode 有下列数种组合
        <pre>
      S_ISUID 04000 文件的(set user-id on execution)位
      S_ISGID 02000 文件的(set group-id on execution)位
      S_ISVTX 01000 文件的sticky位
      S_IRUSR(S_IREAD) 00400 文件所有者具可读取权限
      S_IWUSR(S_IWRITE)00200 文件所有者具可写入权限
      S_IXUSR(S_IEXEC) 00100 文件所有者具可执行权限
      S_IRGRP 00040 用户组具可读取权限
      S_IWGRP 00020 用户组具可写入权限
      S_IXGRP 00010 用户组具可执行权限
      S_IROTH 00004 其他用户具可读取权限
      S_IWOTH 00002 其他用户具可写入权限
      S_IXOTH 00001 其他用户具可执行权限
      </pre>
      只有该文件的所有者或有效用户识别码为0，才可以修改该文件权限。基于系统安全，如果欲将数据写入一执行文件，而该执行文件具有S_ISUID或S_ISGID权限，则这两个位会被清除。如果一目录具有S_ISUID 位权限，表示在此目录下只有该文件的所有者或root可以删除该文件。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 权限改变成功返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EPERM 进程的有效用户识别码与欲修改权限的文件拥有者不同，而且也不具root权限。
      EACCESS 参数path所指定的文件无法存取。
      EROFS 欲写入权限的文件存在于只读文件系统内。
      EFAULT 参数path指针超出可存取内存空间。
      EINVAL 参数mode不正确
      ENAMETOOLONG 参数path太长
      ENOENT 指定的文件不存在
      ENOTDIR 参数path路径并非一目录
      ENOMEM 核心内存不足
      ELOOP 参数path有过多符号连接问题。
      EIO I/O 存取错误
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> /* 将/etc/passwd 文件权限设成S_IRUSR|S_IWUSR|S_IRGRP|S_IROTH */
        <pre class="brush: cpp;">
          #include "sys/types.h"
          #include "sys/stat.h"

          int main(int argc, char const *argv[])
          {
              chmod("/etc/passwd", S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH);
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=chown></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      chown(改变文件的所有者) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#fchown">fchown</a>,
        <a href="12.html#lchown">lchown</a>,
        <a href="12.html#chmod">chmod</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int chown(const char * path, uid_t owner,gid_t 
      group);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> chown()会将参数path指定文件的所有者变更为参数owner代表的用户，而将该文件的组变更为参数group组。如果参数owner或group为-1，对应的所有者或组不会有所改变。root与文件所有者皆可改变文件组，但所有者必须是参数group组的成员。当root用chown()改变文件所有者或组时，该文件若具有S_ISUID或S_ISGID权限，则会清除此权限位，此外如果具有S_ISGID权限但不具S_IXGRP位，则该文件会被强制锁定，文件模式会保留。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 参考chmod()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=chroot></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      chroot(改变根目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#chdir">chdir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int chroot(const char * path);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> chroot()用来改变根目录为参数path 所指定的目录。只有超级用户才允许改变根目录，子进程将继承新的根目录。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 调用成功则返回0，失败则返-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EPERM 权限不足，无法改变根目录。
      EFAULT 参数path指针超出可存取内存空间。
      ENAMETOOLONG 参数path太长。
      ENOTDIR 路径中的目录存在但却非真正的目录。
      EACCESS 存取目录时被拒绝
      ENOMEM 核心内存不足。
      ELOOP 参数path有过多符号连接问题。
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=closedir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      closedir(关闭目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#opendir">opendir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int closedir(DIR *dir);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> closedir()关闭参数dir所指的目录流。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 关闭成功则返回0，失败返回-1，错误原因存于errno 中。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> EBADF 参数dir为无效的目录流
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 参考readir()。
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=fchdir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      fchdir(改变当前的工作目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#getcwd">getcwd</a>,
        <a href="12.html#chroot">chroot</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int fchdir(int fd);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> fchdir()用来将当前的工作目录改变成以参数fd所指的文件描述词。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值执 </font> </div>
      </td>
      <td> <font class="font"> 行成功则返回0，失败返回-1，errno为错误代码。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 附加说明 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          #include "sys/types.h"
          #include "sys/stat.h"
          #include "fcntl.h"
          #include "unistd.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              int fd;
              fd = open("/tmp", O_RDONLY);
              fchdir(fd);
              printf("current working directory : %s \n", getcwd(NULL, NULL));
              close(fd);
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          current working directory : /tmp 
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=fchmod></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      fchmod(改变文件的权限) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#chmod">chmod</a>,
        <a href="12.html#stat">stat</a>,
        <a href="12.html#open">open</a>,
        <a href="12.html#chown">chown</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "sys/stat.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int fchmod(int fildes,mode_t mode);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> fchmod()会依参数mode权限来更改参数fildes所指文件的权限。参数fildes为已打开文件的文件描述词。参数mode请参考chmod()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 权限改变成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误原因 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EBADF 参数fildes为无效的文件描述词。
      EPERM 进程的有效用户识别码与欲修改权限的文件所有者不同，而且也不具root权限。
      EROFS 欲写入权限的文件存在于只读文件系统内。
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=fchown></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      fchown(改变文件的所有者) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，
        <a href="12.html#chown">chown</a>,
        <a href="12.html#lchown">lchown</a>,
        <a href="12.html#chmod">chmod</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> 
        #include "sys/types.h" <br/>
      #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int fchown(int fd, uid_t owner, gid_t group);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> fchown()会将参数fd指定文件的所有者变更为参数owner代表的用户，而将该文件的组变更为参数group组。如果参数owner或group为-1，对映的所有者或组有所改变。参数fd为已打开的文件描述词。当root用fchown()改变文件所有者或组时，该文件若具S_ISUID或S_ISGID权限，则会清除此权限位。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败则返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EBADF 参数fd文件描述词为无效的或该文件已关闭。
      EPERM 进程的有效用户识别码与欲修改权限的文件所有者不同，而且也不具root权限，
            或是参数owner、group不正确。
      EROFS 欲写入的文件存在于只读文件系统内。
      ENOENT 指定的文件不存在
      EIO   I/O存取错误
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=fstat></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      fstat(由文件描述词取得文件状态) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，，，，
        <a href="12.html#stat">stat</a>,
        <a href="12.html#lstat">lstat</a>,
        <a href="12.html#chmod">chmod</a>,
        <a href="12.html#chown">chown</a>,
        <a href="12.html#readlink">readlink</a>,
        <a href="12.html#utime">utime</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/stat.h"
      #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int fstat(int fildes,struct stat *buf);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> fstat()用来将参数fildes所指的文件状态，复制到参数buf所指的结构中(struct stat)。fstat()与stat()作用完全相同，不同处在于传入的参数为已打开的文件描述词。详细内容请参考stat()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          #include "sys/stat.h"
          #include "unistd.h"
          #include "fcntl.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              struct stat buf;
              int fd;
              fd = open ("/etc/passwd", O_RDONLY);
              fstat(fd, &buf);
              printf("/etc/passwd file size +%ld\n ", buf.st_size);
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          /etc/passwd file size +2090
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=ftruncate></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      ftruncate(改变文件大小) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#open">open</a>,
        <a href="12.html#truncate">truncate</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int ftruncate(int fd,off_t length);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> ftruncate()会将参数fd指定的文件大小改为参数length指定的大小。参数fd为已打开的文件描述词，而且必须是以写入模式打开的文件。如果原来的文件大小比参数length大，则超过的部分会被删去。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EBADF 参数fd文件描述词为无效的或该文件已关闭。
      EINVAL 参数fd 为一socket 并非文件，或是该文件并非以写入模式打开。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=getcwd></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      getcwd(取得当前的工作目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#get_current_dir_name">get_current_dir_name</a>,
        <a href="12.html#getwd">getwd</a>,
        <a href="12.html#chdir">chdir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> char * getcwd(char * buf,size_t size);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> getcwd()会将当前的工作目录绝对路径复制到参数buf所指的内存空间，参数size为buf的空间大小。在调用此函数时，buf所指的内存空间要足够大，若工作目录绝对路径的字符串长度超过参数size大小，则回值NULL，errno的值则为ERANGE。倘若参数buf为NULL，getcwd()会依参数size的大小自动配置内存(使用malloc())，如果参数size也为0，则getcwd()会依工作目录绝对路径的字符串程度来决定所配置的内存大小，进程可以在使用完此字符串后利用free()来释放此空间。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则将结果复制到参数buf所指的内存空间，或是返回自动配置的字符串指针。失败返回NULL，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          #include "unistd.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              char buf[80];
              getcwd(buf, sizeof(buf));
              printf("current working directory : %s\n", buf);
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font">
        <pre class="brush: cpp;">
          current working directory : /tmp
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=link></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      link(建立文件连接) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#symlink">symlink</a>,
        <a href="12.html#unlink">unlink</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int link (const char * oldpath,const char * 
      newpath);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> link()以参数newpath指定的名称来建立一个新的连接(硬连接)到参数oldpath所指定的已存在文件。如果参数newpath指定的名称为一已存在的文件则不会建立连接。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 附加说明 </font> </div>
      </td>
      <td> <font class="font"> link()所建立的硬连接无法跨越不同文件系统，如果需要请改用symlink()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EXDEV 参数oldpath与newpath不是建立在同一文件系统。
      EPERM 参数oldpath与newpath所指的文件系统不支持硬连接
      EROFS 文件存在于只读文件系统内
      EFAULT 参数oldpath或newpath 指针超出可存取内存空间。
      ENAMETOLLONG 参数oldpath或newpath太长
      ENOMEM 核心内存不足
      EEXIST 参数newpath所指的文件名已存在。
      EMLINK 参数oldpath所指的文件已达最大连接数目。
      ELOOP 参数pathname有过多符号连接问题
      ENOSPC 文件系统的剩余空间不足。
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=lstat></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      lstat(由文件描述词取得文件状态) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#stat">stat</a>,
        <a href="12.html#fstat">fstat</a>,
        <a href="12.html#chmod">chmod</a>,
        <a href="12.html#chown">chown</a>,
        <a href="12.html#readlink">readlink</a>,
        <a href="12.html#utime">utime</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/stat.h"
      #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int lstat (const char * file_name.struct stat 
      * buf);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> lstat()与stat()作用完全相同，都是取得参数file_name所指的文件状态，其差别在于，当文件为符号连接时，lstat()会返回该link本身的状态。详细内容请参考stat()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 参考stat()。
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=opendir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      opendir(打开目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#open">open</a>,
        <a href="12.html#readdir">readdir</a>,
        <a href="12.html#closedir">closedir</a>,
        <a href="12.html#rewinddir">rewinddir</a>,
        <a href="12.html#seekdir">seekdir</a>,
        <a href="12.html#telldir">telldir</a>,
        <a href="12.html#scandir">scandir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> DIR *opendir(const char *name);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> opendir()用来打开参数name指定的目录，并返回DIR*形态的目录流，和open()类似，接下来对目录的读取和搜索都要使用此返回值。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回DIR* 型态的目录流，打开失败则返回NULL。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EACCESS 权限不足
      EMFILE 已达到进程可同时打开的文件数上限。
      ENFILE 已达到系统可同时打开的文件数上限。
      ENOTDIR 参数name非真正的目录
      ENOENT 参数name 指定的目录不存在，或是参数name 为一空字符串。
      ENOMEM 核心内存不足。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=readdir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      readdir(读取目录) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，，，，，
        <a href="12.html#open">open</a>,
        <a href="12.html#opendir">opendir</a>,
        <a href="12.html#closedir">closedir</a>,
        <a href="12.html#rewinddir">rewinddir</a>,
        <a href="12.html#seekdir">seekdir</a>,
        <a href="12.html#telldir">telldir</a>,
        <a href="12.html#scandir">scandir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> 
        #include "sys/types.h" <br/>
      #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> struct dirent *readdir(DIR *dir);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> readdir()返回参数dir目录流的下个目录进入点。结构dirent定义如下:
      <pre class="brush: cpp;">
        struct dirent
        {
            ino_t d_ino;
            ff_t d_off;
            signed short int d_reclen;
            unsigned char d_type;
            har d_name[256;
        };
      </pre>
        <pre>
      d_ino 此目录进入点的inode
      d_off 目录文件开头至此目录进入点的位移
      d_reclen d_name的长度，不包含NULL字符
      d_type d_name所指的文件类型
      d_name 文件名
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回下个目录进入点。有错误发生或读取到目录文件尾则返回NULL。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 附加说明 </font> </div>
      </td>
      <td> <font class="font"> EBADF参数dir为无效的目录流。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=readlink></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      readlink(取得符号连接所指的文件) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#stat">stat</a>,
        <a href="12.html#lstat">lstat</a>,
        <a href="12.html#symlink">symlink</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int readlink(const char *path, char *buf, size_t bufsiz);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> readlink()会将参数path的符号连接内容存到参数buf所指的内存空间，返回的内容不是以NULL作字符串结尾，但会将字符串的字符数返回。若参数bufsiz小于符号连接的内容长度，过长的内容会被截断。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则传符号连接所指的文件路径字符串，失败则返回-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EACCESS 取文件时被拒绝，权限不够
      EINVAL 参数bufsiz 为负数
      EIO I/O 存取错误。
      ELOOP 欲打开的文件有过多符号连接问题。
      ENAMETOOLONG 参数path的路径名称太长
      ENOENT 参数path所指定的文件不存在
      ENOMEM 核心内存不足
      ENOTDIR 参数path路径中的目录存在但却非真正的目录。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=remove></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      remove(删除文件) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#link">link</a>,
        <a href="12.html#rename">rename</a>,
        <a href="12.html#unlink">unlink</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "stdio.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int remove(const char * pathname);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> remove()会删除参数pathname指定的文件。如果参数pathname为一文件，则调用unlink()处理，若参数pathname为一目录，则调用rmdir()来处理。请参考unlink()与rmdir()。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败则返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EROFS 欲写入的文件存在于只读文件系统内
      EFAULT 参数pathname指针超出可存取内存空间
      ENAMETOOLONG 参数pathname太长
      ENOMEM 核心内存不足
      ELOOP 参数pathname有过多符号连接问题
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=rename></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      rename(更改文件名称或位置) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#link">link</a>,
        <a href="12.html#unlink">unlink</a>,
        <a href="12.html#symlink">symlink</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "stdio.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int rename(const char * oldpath,const char 
      * newpath);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> rename()会将参数oldpath 所指定的文件名称改为参数newpath所指的文件名称。若newpath所指定的文件已存在，则会被删除。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误原因存于errno
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> /* 设计一个CLI下的rename指令rename 旧文件名新文件名*/
        <pre class="brush: cpp;">
          #include  "stdio.h"

          int main(int argc, char const *argv[])
          {
              if (argc < 3)
              {
                  printf("Usage: %s old_name new_name\n", argv[0]);
                  return 0;
              }
              printf("%s=>%s", argv[1], argv[2]);
              if (rename(argv[1], argv[2]) < 0)
                  printf("error!\n");
              else
                  printf("ok!\n");
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=rewinddir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      rewinddir(重设读取目录的位置为开头位置) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，，，，，
        <a href="12.html#open">open</a>,
        <a href="12.html#opendir">opendir</a>,
        <a href="12.html#closedir">closedir</a>,
        <a href="12.html#telldir">telldir</a>,
        <a href="12.html#seekdir">seekdir</a>,
        <a href="12.html#readdir">readdir</a>,
        <a href="12.html#scandir">scandir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> 
        #include "sys/types.h" <br/>
      #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> void rewinddir(DIR *dir);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> rewinddir()用来设置参数dir 目录流目前的读取位置为原来开头的读取位置。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> EBADF dir为无效的目录流
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font">
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=seekdir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      seekdir(设置下回读取目录的位置) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#open">open</a>,
        <a href="12.html#opendir">opendir</a>,
        <a href="12.html#closedir">closedir</a>,
        <a href="12.html#rewinddir">rewinddir</a>,
        <a href="12.html#telldir">telldir</a>,
        <a href="12.html#readdir">readdir</a>,
        <a href="12.html#scandir">scandir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> void seekdir(DIR *dir, off_t offset);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> seekdir()用来设置参数dir目录流目前的读取位置，在调用readdir()时便从此新位置开始读取。参数offset代表距离目录文件开头的偏移量。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> EBADF 参数dir为无效的目录流
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=stat></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      stat(取得文件状态) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，，，，
        <a href="12.html#fstat">fstat</a>,
        <a href="12.html#lstat">lstat</a>,
        <a href="12.html#chmod">chmod</a>,
        <a href="12.html#chown">chown</a>,
        <a href="12.html#readlink">readlink</a>,
        <a href="12.html#utime">utime</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/stat.h"
      #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int stat(const char * file_name,struct stat 
      *buf);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> stat()用来将参数file_name所指的文件状态，复制到参数buf所指的结构中。
      下面是struct stat内各参数的说明:
      <pre>
        struct stat
        {
            dev_t st_dev; /*文件的设备编号*/
            ino_t st_ino; /*文件的i-node*/
            mode_t st_mode; /*文件的类型和存取的权限*/
            nlink_t st_nlink; /*连到该文件的硬连接数目，刚建立的文件值为1*/
            uid_t st_uid; /*文件所有者的用户识别码*/
            gid_t st_gid; /*文件所有者的组识别码*/
            dev_t st_rdev; /*若此文件为装置设备文件，则为其设备编号*/
            off_t st_size; /*文件大小，以字节计算*/
            unsigned long st_blksize; /*文件系统的I/O 缓冲区大小*/
            unsigned long st_blocks; /*占用文件区块的个数，每一区块大小为512 个字节*/
            time_t st_atime; /*文件最近一次被存取或被执行的时间*/
            time_t st_mtime; /*文件最后一次被修改的时间*/
            time_t st_ctime; /*i-node最近一次被更改的时间*/
        };
        /*
          st_atime一般只有在用mknod、utime、read、write与tructate时改变
          st_mtime一般只有在用mknod、utime和write时才会改变
          st_ctime会在文件所有者、组、权限被更改时更新
        */
      </pre>
      先前所描述的st_mode 则定义了下列数种情况:
        <pre>
        S_IFMT 0170000 文件类型的位遮罩
        S_IFSOCK 0140000 scoket
        S_IFLNK 0120000 符号连接
        S_IFREG 0100000 一般文件
        S_IFBLK 0060000 区块装置
        S_IFDIR 0040000 目录
        S_IFCHR 0020000 字符装置
        S_IFIFO 0010000 先进先出
        S_ISUID 04000 文件的(set user-id on execution)位
        S_ISGID 02000 文件的(set group-id on execution)位
        S_ISVTX 01000 文件的sticky位
        S_IRUSR(S_IREAD) 00400 文件所有者具可读取权限
        S_IWUSR(S_IWRITE)00200 文件所有者具可写入权限
        S_IXUSR(S_IEXEC) 00100 文件所有者具可执行权限
        S_IRGRP 00040 用户组具可读取权限
        S_IWGRP 00020 用户组具可写入权限
        S_IXGRP 00010 用户组具可执行权限
        S_IROTH 00004 其他用户具可读取权限
        S_IWOTH 00002 其他用户具可写入权限
        S_IXOTH 00001 其他用户具可执行权限
      上述的文件类型在POSIX 中定义了检查这些类型的宏定义
        S_ISLNK (st_mode) 判断是否为符号连接
        S_ISREG (st_mode) 是否为一般文件
        S_ISDIR (st_mode)是否为目录
        S_ISCHR (st_mode)是否为字符装置文件
        S_ISBLK (s3e) 是否为先进先出
        S_ISSOCK (st_mode) 是否为socket
      </pre>
      若一目录具有sticky 位(S_ISVTX)，则表示在此目录下的文件只能被该文件所有者、此目录所有者或root来删除或改名。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误代码存于errno
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      ENOENT 参数file_name指定的文件不存在
      ENOTDIR 路径中的目录存在但却非真正的目录
      ELOOP 欲打开的文件有过多符号连接问题，上限为16符号连接
      EFAULT 参数buf为无效指针，指向无法存在的内存空间
      EACCESS 存取文件时被拒绝
      ENOMEM 核心内存不足
      ENAMETOOLONG 参数file_name的路径名称太长
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          #include "sys/stat.h"
          #include "unistd.h"
          #include "stdio.h"

          int main(int argc, char const *argv[])
          {
              struct stat buf;
              stat ("/etc/passwd", &buf);
              printf("/etc/passwd file size = %ld \n", buf.st_size);
              return 0;
          }
        </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 执行结果 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre class="brush: cpp;">
          /etc/passwd file size = 2090 
        </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=symlink></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      symlink(建立文件符号连接) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#link">link</a>,
        <a href="12.html#unlink">unlink</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int symlink(const char *oldpath, const char *newpath);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> symlink()以参数newpath指定的名称来建立一个新的连接(符号连接)到参数oldpath所指定的已存在文件。参数oldpath指定的文件不一定要存在，如果参数newpath指定的名称为一已存在的文件则不会建立连接。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EPERM 参数oldpath与newpath所指的文件系统不支持符号连接
      EROFS 欲测试写入权限的文件存在于只读文件系统内
      EFAULT 参数oldpath或newpath指针超出可存取内存空间。
      ENAMETOOLONG 参数oldpath或newpath太长
      ENOMEM 核心内存不足
      EEXIST 参数newpath所指的文件名已存在。
      EMLINK 参数oldpath所指的文件已达到最大连接数目
      ELOOP 参数pathname有过多符号连接问题
      ENOSPC 文件系统的剩余空间不足
      EIO I/O 存取错误
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font">
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=telldir></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      telldir(取得目录流的读取位置) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> ，，，，，，
        <a href="12.html#open">open</a>,
        <a href="12.html#opendir">opendir</a>,
        <a href="12.html#closedir">closedir</a>,
        <a href="12.html#rewinddir">rewinddir</a>,
        <a href="12.html#seekdir">seekdir</a>,
        <a href="12.html#readdir">readdir</a>,
        <a href="12.html#scandir">scandir</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "dirent.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> off_t telldir(DIR *dir);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> telldir()返回参数dir目录流目前的读取位置。此返回值代表距离目录文件开头的偏移量返回值返回下个读取位置，有错误发生时返回-1。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> EBADF参数dir为无效的目录流。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 范例 </font> </div>
      </td>
      <td> <font class="font">
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=truncate></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      truncate(改变文件大小) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#open">open</a>,
        <a href="12.html#ftruncate">ftruncate</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int truncate(const char *path, off_t length);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> truncate()会将参数path 指定的文件大小改为参数length 指定的大小。如果原来的文件大小比参数length大，则超过的部分会被删去。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 执行成功则返回0，失败返回-1，错误原因存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EACCESS 参数path所指定的文件无法存取。
      EROFS 欲写入的文件存在于只读文件系统内
      EFAULT 参数path指针超出可存取内存空间
      EINVAL 参数path包含不合法字符
      ENAMETOOLONG 参数path太长
      ENOTDIR 参数path路径并非一目录
      EISDIR 参数path 指向一目录
      ETXTBUSY 参数path所指的文件为共享程序，而且正被执行中
      ELOOP 参数path’有过多符号连接问题
      EIO I/O 存取错误。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=umask></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      umask(设置建立新文件时的权限遮罩) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#creat">creat</a>,
        <a href="12.html#open">open</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> 
        #include "sys/types.h" <br/>
      #include "sys/stat.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> mode_t umask(mode_t mask);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> umask()会将系统umask值设成参数mask&0777后的值，然后将先前的umask值返回。在使用open()建立新文件时，该参数mode并非真正建立文件的权限，而是(mode&~umask)的权限值。例如，在建立文件时指定文件权限为0666，通常umask值默认为022，则该文件的真正权限则为0666&～022＝0644，也就是rw-r--r--返回值此调用不会有错误值返回。返回值为原先系统的umask值。
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=unlink></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      unlink(删除文件) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#link">link</a>,
        <a href="12.html#rename">rename</a>,
        <a href="12.html#remove">remove</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "unistd.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int unlink(const char *pathname);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> unlink()会删除参数pathname指定的文件。如果该文件名为最后连接点，但有其他进程打开了此文件，则在所有关于此文件的文件描述词皆关闭后才会删除。如果参数pathname为一符号连接，则此连接会被删除。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 成功则返回0，失败返回-1，错误原因存于errno
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EROFS 文件存在于只读文件系统内
      EFAULT 参数pathname指针超出可存取内存空间
      ENAMETOOLONG 参数pathname太长
      ENOMEM 核心内存不足
      ELOOP 参数pathname 有过多符号连接问题
      EIO I/O 存取错误
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=utime></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      utime(修改文件的存取时间和更改时间) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font"> 
        <a href="12.html#utimes">utimes</a>,
        <a href="12.html#stat">stat</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "utime.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int utime(const char * filename,struct utimbuf 
      * buf);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> utime()用来修改参数filename文件所属的inode存取时间。结构utimbuf定义如下:
      <pre>
        struct utimbuf 
        {
            time_t actime;
            time_t modtime;
        };
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 如果参数buf为空指针(NULL)，则该文件的存取时间和更改时间全部会设为目前时间。执行成功则返回0，失败返回-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EACCESS 存取文件时被拒绝，权限不足
      ENOENT 指定的文件不存在。
      </pre>
      </font> </td>
    </tr>
    <tr><td><br/><br/></td></tr>
    
    <tr>
      <td class="td">
        <div class="div">
          <font class="font"><a name=utimes></a></font> </div>
      </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 
        </font> </div>
      </td>
      <td> <font class="font tt"> 
      utimes(修改文件的存取时间和更改时间) </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 相关函数 </font> </div>
      </td>
      <td> <font class="font">
        <a href="12.html#utime">utime</a>,
        <a href="12.html#stat">stat</a>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 表头文件 </font> </div>
      </td>
      <td> <font class="font"> #include "sys/types.h"
      #include "utime.h"
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 定义函数 </font> </div>
      </td>
      <td> <font class="font"> int utimes(char * filename.struct timeval *tvp);
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 函数说明 </font> </div>
      </td>
      <td> <font class="font"> utimes()用来修改参数filename文件所属的inode存取时间和修改时间。结构timeval定义如下:
      <pre>
        struct timeval
        {
            long tv_sec;
            long tv_usec; /* 微妙*/
        };
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 返回值 </font> </div>
      </td>
      <td> <font class="font"> 参数tvp指向两个timeval结构空间，和utime()使用的utimebuf结构比较，tvp[0].tc_sec则为utimbuf.actime，tvp]1].tv_sec为utimbuf.modtime。执行成功则返回0。失败返回-1，错误代码存于errno。
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div"><font class="font"> 错误代码 </font> </div>
      </td>
      <td> <font class="font"> 
        <pre>
      EACCESS 存取文件时被拒绝，权限不足
      ENOENT 指定的文件不存在
      </pre>
      </font> </td>
    </tr>
    <tr>
      <td class="td">
        <div class="div">
          
        </div>
      </td>
    </tr>
  </table>
</body>

</html>